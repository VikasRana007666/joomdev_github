<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="../dist/output.css" rel="stylesheet" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css"
      integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <title>Table</title>
  </head>
  <body>
    <div class="max-w-screen-xl mx-auto">
      <div class="my-16 flex justify-start md:justify-center">
        <div>
          <!-- <button id="sort-name">Sort by Name</button>
          <button id="sort-score">Sort by Score</button> -->

          <!-- Start -->
          <table class="min-w-full divide-y divide-gray-300">
            <thead>
              <tr>
                <th
                  scope="col"
                  class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0"
                >
                  <button id="sort-name">
                    Name <i class="fa-solid fa-sort"></i>
                  </button>
                </th>
                <th
                  scope="col"
                  class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900"
                >
                  <button id="sort-score">
                    Score <i class="fa-solid fa-sort"></i>
                  </button>
                </th>
                <th
                  scope="col"
                  class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900"
                >
                  <button id="sort-email">
                    Email <i class="fa-solid fa-sort"></i>
                  </button>
                </th>
                <th
                  scope="col"
                  class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900"
                >
                  <button id="sort-role">
                    Role <i class="fa-solid fa-sort"></i>
                  </button>
                </th>
                <th scope="col" class="relative py-3.5 pl-3 pr-4 sm:pr-0">
                  <span class="sr-only">Edit</span>
                </th>
              </tr>
            </thead>
            <tbody class="divide-y divide-gray-200">
              <tr>
                <td
                  class="whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-0"
                >
                  Lindsay Walton
                </td>
                <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500">
                  10
                </td>
                <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500">
                  lindsay.walton@example.com
                </td>
                <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500">
                  Staff
                </td>
                <td
                  class="relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0"
                >
                  <a href="#" class="text-indigo-600 hover:text-indigo-900"
                    >Edit<span class="sr-only">, Lindsay Walton</span></a
                  >
                </td>
              </tr>
              <tr>
                <td
                  class="whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-0"
                >
                  Vikas Walton
                </td>
                <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500">
                  20
                </td>
                <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500">
                  gail.walton@example.com
                </td>
                <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500">
                  Admin
                </td>
                <td
                  class="relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0"
                >
                  <a href="#" class="text-indigo-600 hover:text-indigo-900"
                    >Edit<span class="sr-only">, Lindsay Walton</span></a
                  >
                </td>
              </tr>

              <tr>
                <td
                  class="whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-0"
                >
                  Rohit Walton
                </td>
                <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500">
                  5
                </td>
                <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500">
                  sam.walton@example.com
                </td>
                <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500">
                  Member
                </td>
                <td
                  class="relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0"
                >
                  <a href="#" class="text-indigo-600 hover:text-indigo-900"
                    >Edit<span class="sr-only">, Lindsay Walton</span></a
                  >
                </td>
              </tr>
              <!-- More people... -->
            </tbody>
          </table>

          <!-- End -->
        </div>
      </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script>
      $(document).ready(function () {
        var sortDirections = {
          name: true,
          score: true,
          email: true,
          role: true,
        };

        function sortTable(columnIndex, dataType) {
          var table = $("table");
          var rows = table.find("tbody tr").get();
          rows.sort(function (a, b) {
            var valueA = $(a)
              .find("td:nth-child(" + columnIndex + ")")
              .text()
              .toUpperCase();
            var valueB = $(b)
              .find("td:nth-child(" + columnIndex + ")")
              .text()
              .toUpperCase();

            if (sortDirections[dataType]) {
              if (valueA < valueB) {
                return -1;
              }
              if (valueA > valueB) {
                return 1;
              }
            } else {
              if (valueA > valueB) {
                return -1;
              }
              if (valueA < valueB) {
                return 1;
              }
            }
            return 0;
          });

          // If Data type is score
          if (dataType == "score") {
            if (sortDirections[dataType]) {
              rows.sort(function (a, b) {
                var scoreA = parseInt(
                  $(a)
                    .find("td:nth-child(" + columnIndex + ")")
                    .text()
                );
                var scoreB = parseInt(
                  $(b)
                    .find("td:nth-child(" + columnIndex + ")")
                    .text()
                );
                return scoreA - scoreB;
              });
            } else {
              rows.sort(function (a, b) {
                var scoreA = parseInt(
                  $(a)
                    .find("td:nth-child(" + columnIndex + ")")
                    .text()
                );
                var scoreB = parseInt(
                  $(b)
                    .find("td:nth-child(" + columnIndex + ")")
                    .text()
                );
                return scoreB - scoreA;
              });
            }
          }
          $.each(rows, function (index, row) {
            table.children("tbody").append(row);
          });

          // Toggle sorting direction
          sortDirections[dataType] = !sortDirections[dataType];
        }

        $("#sort-name").click(function () {
          sortTable(1, "name");
        });

        $("#sort-score").click(function () {
          sortTable(2, "score");
        });

        $("#sort-email").click(function () {
          sortTable(3, "email");
        });

        $("#sort-role").click(function () {
          sortTable(4, "role");
        });
      });
    </script>
  </body>
</html>
